<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <title>Analysis Result</title>
  <style>
    body { font-family: system-ui, Arial, sans-serif; max-width: 900px; margin: 40px auto; }
    table { border-collapse: collapse; width: 100%; margin-top: 16px; }
    th, td { border: 1px solid #ddd; padding: 8px; vertical-align: top; }
    th { background: #f7f7f7; text-align: left; width: 220px; }
    .ok { color: #0a0; }
    .bad { color: #c00; }
  </style>
</head>
<body>
  <h1>Analysis Result</h1>
  <p><a href="/">‚Üê Analyze another URL</a></p>

  {{ with .Result }}
  <table>
    <tr><th>URL</th><td>{{ .URL }}</td></tr>
    <tr><th>HTTP Status</th><td>{{ .HTTPStatus }}</td></tr>
    <tr>
    <th>Error</th>
    <td>
      {{ if $.FriendlyError }}
        <span class="bad">{{ $.FriendlyError }}</span>
      {{ else if .ErrorMessage }}
        <details>
          <summary style="cursor:pointer;color:#c00;">Show technical details</summary>
          <pre style="white-space:pre-wrap;word-break:break-word;">{{ .ErrorMessage }}</pre>
        </details>
      {{ else }}
        <span class="ok">None</span>
      {{ end }}
    </td>
  </tr>
    <tr><th>HTML Version</th><td>{{ .HTMLVersion }}</td></tr>
    <tr><th>Title</th><td>{{ .Title }}</td></tr>
    <tr>
      <th>Headings (H1..H6)</th>
      <td>H1={{ .H1 }}, H2={{ .H2 }}, H3={{ .H3 }}, H4={{ .H4 }}, H5={{ .H5 }}, H6={{ .H6 }}</td>
    </tr>
    <tr><th>Links</th><td>Internal={{ .InternalLinks }}, External={{ .ExternalLinks }}, Broken={{ .BrokenLinks }}</td></tr>
    <tr><th>Login Form</th><td>{{ if .HasLoginForm }}Yes{{ else }}No{{ end }}</td></tr>
    <tr><th>Saved At</th><td>{{formatDate .CreatedAt }}</td></tr>
  </table>
  {{ end }}
</body>
</html>
